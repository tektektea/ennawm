import{r as u,aB as y,E as v,F as l,o as _,b as d,H as r,aC as x,aD as w,I as t,P as f,Q as c}from"./main.7e8ab29c.js";import{Q as V}from"./QForm.b13d03b0.js";import{_ as $}from"./FrontLayout.179475df.js";import{u as C}from"./use-quasar.9d177eec.js";import"./selection.462aeae3.js";import"./QList.7c87ff50.js";import"./QItem.213c9318.js";import"./QBtnDropdown.4164b3b6.js";const Q={class:"w-full flex items-center justify-center"},h=d("p",{class:"text-gray-100 text-3xl w-full text-center font-bold font-sans"},"Change password",-1),P=d("label",{class:"text-gray-100 font-semibold mb-2",for:"old"},"Old Password",-1),k=d("label",{class:"text-gray-100 font-semibold mb-2",for:"password"},"New Password",-1),B=d("label",{class:"text-gray-100 font-semibold mb-2",for:"confirm"},"Confirm New Password",-1),N={class:"flex gap-2"},D={props:{user:Object},setup(q){const m=C(),n=u("password"),p=u("password"),i=u("password"),o=y({old_password:"",password:"",password_confirmation:""}),g=a=>{o.put(route("change-password.update"),{onStart:()=>m.loading.show(),onFinish:()=>m.loading.hide(),onSuccess:()=>m.notify({type:"positive",message:"Password updated successfully"})})},b=a=>{o.old_password="",o.password="",o.password_confirmation=""};return(a,e)=>(_(),v($,null,{content:l(()=>[d("div",Q,[r(V,{onSubmit:g,onReset:b,class:"p-8 shadow-md rounded w-full bg-primary flex flex-col md:w-2/6"},{default:l(()=>[h,r(x,{class:"my-2"}),P,r(w,{modelValue:t(o).old_password,"onUpdate:modelValue":e[1]||(e[1]=s=>t(o).old_password=s),type:n.value,name:"old",dense:"",outlined:"","bg-color":"white",error:!!a.$page.props.errors.old_password,"error-message":a.$page.props.errors.old_password,rounded:"",rules:[s=>!!s||"Old password is required"]},{append:l(()=>[r(f,{name:n.value==="password"?"visibility_off":"visibility",onClick:e[0]||(e[0]=s=>n.value=n.value==="password"?"text":"password")},null,8,["name"])]),_:1},8,["modelValue","type","error","error-message","rules"]),k,r(w,{modelValue:t(o).password,"onUpdate:modelValue":e[3]||(e[3]=s=>t(o).password=s),type:p.value,name:"confirm",dense:"",outlined:"","bg-color":"white",error:!!a.$page.props.errors.password,"error-message":a.$page.props.errors.password,rounded:"",rules:[s=>!!s||"New password is required",s=>s.length>=6||"Password must be atleast 6 digit"]},{append:l(()=>[r(f,{name:p.value==="password"?"visibility_off":"visibility",onClick:e[2]||(e[2]=s=>p.value=p.value==="password"?"text":"password")},null,8,["name"])]),_:1},8,["modelValue","type","error","error-message","rules"]),B,r(w,{modelValue:t(o).password_confirmation,"onUpdate:modelValue":e[5]||(e[5]=s=>t(o).password_confirmation=s),type:i.value,name:"confirm",dense:"",outlined:"","bg-color":"white",error:!!a.$page.props.errors.password_confirmation,"error-message":a.$page.props.errors.password_confirmation,rounded:"",rules:[s=>!!s||"Confirm password is required",s=>s===t(o).password_confirmation||"Confirm password must match password"]},{append:l(()=>[r(f,{name:i.value==="password"?"visibility_off":"visibility",onClick:e[4]||(e[4]=s=>i.value=i.value==="password"?"text":"password")},null,8,["name"])]),_:1},8,["modelValue","type","error","error-message","rules"]),d("div",N,[r(c,{type:"submit",rounded:"",color:"primary",label:"Update"}),r(c,{type:"reset",rounded:"",color:"negative",label:"Reset"})])]),_:1})])]),_:1}))}};export{D as default};
