import{Q as F,a as Q}from"./QBreadcrumbs.6cda40f6.js";import{i as b,$ as L,y as N,D as d,E as q,F as s,o as f,H as a,b as o,aC as E,I as u,an as M,Q as m,aB as P,c as U,G as $,L as j,ar as g,aq as k,J as x,aS as z}from"./main.6f4cccc6.js";import{Q as A}from"./QChip.ae3b28af.js";import{h as T,g as G,f as h,e as C}from"./QBtnDropdown.50f28dc8.js";import{Q as H}from"./QPagination.0b7f8d64.js";import{Q as J}from"./QPage.3c983cdf.js";import{u as K}from"./use-quasar.ab735963.js";import{B as O}from"./BackendLayout.fcc7f5c9.js";import"./QExpansionItem.0b09619b.js";import"./touch.70a9dd44.js";import"./AuthenticatedToolbar.5f82720e.js";import"./plugin-vue_export-helper.21dcd24c.js";const W={class:"flex justify-between items-center"},R=o("div",null,[o("div",{class:"my-title"},"FAQ"),o("div",{class:"text-caption"},"Frequently asked question")],-1),X={class:"flex justify-between items-center q-my-md"},Y={class:"col-12"},Z={class:"flex flex-inline justify-center q-gutter-sm"},fe={setup(ee){const c=K(),i=b(()=>d().props.value.list),l=L({selected:null,search:"",listData:{per_page:15,data:[],current_page:1,total:1}}),V=t=>{g.Inertia.put(route("faq.publish",t.id),{},{onSuccess:()=>c.notify({type:"positive",message:d().props.value.flash.success}),onError:()=>c.notify({type:"negative",message:d().props.value.flash.error})})},D=t=>{c.dialog({title:"Confirm",message:"Would you like to delete?",cancel:!0,persistent:!0}).onOk(()=>{g.Inertia.delete(route("faq.destroy",t.id))}).onCancel(()=>{}).onDismiss(()=>{})},B=t=>{l.selected=t},I=t=>{l.search=t.target.value,t.keyCode===13&&_(1)},S=t=>{_(t)},_=t=>{g.Inertia.get(route("faq.index"),{page:t,search:l.search},{preserveState:!0,replace:!0})};N(()=>{var v,y;const t=d();console.log("page=>> ",(v=t.props.value)==null?void 0:v.list);const{current_page:r,total:e,per_page:p,data:n}=(y=t.props.value)==null?void 0:y.list;l.listData.current_page=r,l.listData.data=n,l.listData.total=e,l.listData.per_page=p});const w=b(()=>Math.ceil(i.value.total/i.value.per_page));return(t,r)=>(f(),q(O,null,{content:s(()=>[a(J,{padding:""},{default:s(()=>[o("div",W,[R,a(F,{"active-color":"primary",class:"text-gray-500 text-sm"},{default:s(()=>[a(Q,{icon:"dashboard",label:"Dashboard"}),a(Q,{icon:"feed",label:"Faq"})]),_:1})]),o("div",X,[a(E,{modelValue:u(l).search,"onUpdate:modelValue":r[0]||(r[0]=e=>u(l).search=e),dense:"",outlined:"",placeholder:"Search",rounded:"",onKeyup:I},{append:s(()=>[a(M,{name:"search"})]),_:1},8,["modelValue"]),a(m,{href:t.route("faq.create"),color:"primary",label:"New Faq",rounded:""},null,8,["href"])]),a(P,{class:"full-width q-my-sm"}),o("div",Y,[a(T,{separator:""},{default:s(()=>[(f(!0),U(j,null,$(u(i).data,(e,p)=>(f(),q(G,{class:"q-pa-none",key:e.id,onClick:n=>B(e)},{default:s(()=>[a(h,{avatar:""},{default:s(()=>[a(A,{label:p+1,square:""},null,8,["label"])]),_:2},1024),a(h,null,{default:s(()=>[a(C,null,{default:s(()=>[k(x(e==null?void 0:e.question),1)]),_:2},1024),a(C,{caption:""},{default:s(()=>[k(x((e==null?void 0:e.answer)||"NA"),1)]),_:2},1024)]),_:2},1024),a(h,{side:""},{default:s(()=>[o("div",Z,[a(z,{modelValue:e.published,"onUpdate:modelValue":n=>e.published=n,label:"published?","left-label":"",onClick:n=>V(e)},null,8,["modelValue","onUpdate:modelValue","onClick"]),a(m,{href:t.route("faq.edit",e.id),icon:"edit",outline:"",round:"",size:"12px"},null,8,["href"]),a(m,{color:"negative",icon:"delete",outline:"",round:"",size:"12px",onClick:n=>D(e)},null,8,["onClick"])])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),a(H,{modelValue:u(i).current_page,"onUpdate:modelValue":[r[1]||(r[1]=e=>u(i).current_page=e),S],max:u(w),input:""},null,8,["modelValue","max"])]),_:1})]),_:1}))}};export{fe as default};
