var $=Object.defineProperty,M=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var R=(e,s,l)=>s in e?$(e,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[s]=l,b=(e,s)=>{for(var l in s||(s={}))E.call(s,l)&&R(e,l,s[l]);if(P)for(var l of P(s))O.call(s,l)&&R(e,l,s[l]);return e},B=(e,s)=>M(e,A(s));import{Q as U,a as N}from"./QBreadcrumbs.69b14561.js";import{u as K,v as G,aO as T,x as H,aP as J,i as d,A as W,aQ as X,j as Y,k as p,P as q,aR as Z,s as ee,a3 as ae,y as te,D as _,E as j,F as c,o as V,H as n,b as f,aB as le,I as v,Q as D,aG as oe,c as ne,G as se,L as ie,S as I,R as z,J as F,aS as ce}from"./main.668b5c9f.js";import{Q as re,a as w}from"./QItem.a9acac2d.js";import{a as ue,Q as L}from"./QList.000e084a.js";import{Q as de}from"./QPagination.e3d6ed6f.js";import{Q as fe}from"./QPage.d23da050.js";import{u as he}from"./use-quasar.aee81113.js";import{B as me}from"./BackendLayout.4c154328.js";import"./selection.75429ba2.js";import"./QDrawer.49a2bbea.js";import"./touch.70a9dd44.js";import"./plugin-vue_export-helper.21dcd24c.js";const pe={xs:8,sm:10,md:14,lg:20,xl:24};var ve=K({name:"QChip",props:B(b(b({},G),T),{dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:s,emit:l}){const{proxy:{$q:i}}=Y(),k=H(e,i),y=J(e,pe),S=d(()=>e.selected===!0||e.icon!==void 0),x=d(()=>e.selected===!0?e.iconSelected||i.iconSet.chip.selected:e.icon),C=d(()=>e.iconRemove||i.iconSet.chip.remove),h=d(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),Q=d(()=>{const a=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(a?` text-${a} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(h.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(k.value===!0?" q-chip--dark q-dark":"")}),o=d(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function r(a){a.keyCode===13&&t(a)}function t(a){e.disable||(l("update:selected",!e.selected),l("click",a))}function m(a){(a.keyCode===void 0||a.keyCode===13)&&(ee(a),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function u(){const a=[];h.value===!0&&a.push(p("div",{class:"q-focus-helper"})),S.value===!0&&a.push(p(q,{class:"q-chip__icon q-chip__icon--left",name:x.value}));const g=e.label!==void 0?[p("div",{class:"ellipsis"},[e.label])]:void 0;return a.push(p("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Z(s.default,g))),e.iconRight&&a.push(p(q,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&a.push(p(q,B(b({class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:C.value},o.value),{onClick:m,onKeyup:m}))),a}return()=>{if(e.modelValue===!1)return;const a={class:Q.value,style:y.value};return h.value===!0&&Object.assign(a,o.value,{onClick:t,onKeyup:r}),W("div",a,u(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[X,e.ripple]])}}});const ge={class:"flex justify-between items-center"},be=f("div",null,[f("div",{class:"my-title"},"FAQ"),f("div",{class:"text-caption"},"Frequently asked question")],-1),_e={class:"flex justify-between items-center q-my-md"},qe={class:"col-12"},ke={class:"flex flex-inline justify-center q-gutter-sm"},je={setup(e){const s=he(),l=d(()=>_().props.value.list),i=ae({selected:null,search:"",listData:{per_page:15,data:[],current_page:1,total:1}}),k=o=>{I.Inertia.put(route("faq.publish",o.id),{},{onSuccess:()=>s.notify({type:"positive",message:_().props.value.flash.success}),onError:()=>s.notify({type:"negative",message:_().props.value.flash.error})})},y=o=>{s.dialog({title:"Confirm",message:"Would you like to delete?",cancel:!0,persistent:!0}).onOk(()=>{I.Inertia.delete(route("faq.destroy",o.id))}).onCancel(()=>{}).onDismiss(()=>{})},S=o=>{i.selected=o},x=o=>{i.search=o.target.value,o.keyCode===13&&h(1)},C=o=>{h(o)},h=o=>{I.Inertia.get(route("faq.index"),{page:o,search:i.search},{preserveState:!0,replace:!0})};te(()=>{var a,g;const o=_();console.log("page=>> ",(a=o.props.value)==null?void 0:a.list);const{current_page:r,total:t,per_page:m,data:u}=(g=o.props.value)==null?void 0:g.list;i.listData.current_page=r,i.listData.data=u,i.listData.total=t,i.listData.per_page=m});const Q=d(()=>Math.ceil(l.value.total/l.value.per_page));return(o,r)=>(V(),j(me,null,{content:c(()=>[n(fe,{padding:""},{default:c(()=>[f("div",ge,[be,n(U,{"active-color":"primary",class:"text-gray-500 text-sm"},{default:c(()=>[n(N,{icon:"dashboard",label:"Dashboard"}),n(N,{icon:"feed",label:"Faq"})]),_:1})]),f("div",_e,[n(le,{modelValue:v(i).search,"onUpdate:modelValue":r[0]||(r[0]=t=>v(i).search=t),dense:"",outlined:"",placeholder:"Search",rounded:"",onKeyup:x},{append:c(()=>[n(q,{name:"search"})]),_:1},8,["modelValue"]),n(D,{href:o.route("faq.create"),color:"primary",label:"New Faq",rounded:""},null,8,["href"])]),n(oe,{class:"full-width q-my-sm"}),f("div",qe,[n(ue,{separator:""},{default:c(()=>[(V(!0),ne(ie,null,se(v(l).data,(t,m)=>(V(),j(re,{class:"q-pa-none",key:t.id,onClick:u=>S(t)},{default:c(()=>[n(w,{avatar:""},{default:c(()=>[n(ve,{label:m+1,square:""},null,8,["label"])]),_:2},1024),n(w,null,{default:c(()=>[n(L,null,{default:c(()=>[z(F(t==null?void 0:t.question),1)]),_:2},1024),n(L,{caption:""},{default:c(()=>[z(F((t==null?void 0:t.answer)||"NA"),1)]),_:2},1024)]),_:2},1024),n(w,{side:""},{default:c(()=>[f("div",ke,[n(ce,{modelValue:t.published,"onUpdate:modelValue":u=>t.published=u,label:"published?","left-label":"",onClick:u=>k(t)},null,8,["modelValue","onUpdate:modelValue","onClick"]),n(D,{href:o.route("faq.edit",t.id),icon:"edit",outline:"",round:"",size:"12px"},null,8,["href"]),n(D,{color:"negative",icon:"delete",outline:"",round:"",size:"12px",onClick:u=>y(t)},null,8,["onClick"])])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),n(de,{modelValue:v(l).current_page,"onUpdate:modelValue":[r[1]||(r[1]=t=>v(l).current_page=t),C],max:v(Q),input:""},null,8,["modelValue","max"])]),_:1})]),_:1}))}};export{je as default};
