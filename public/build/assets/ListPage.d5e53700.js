import{Q as F,a as y}from"./QBreadcrumbs.0766b80d.js";import{i as b,a4 as P,y as L,D as d,E as k,F as s,o as f,H as a,b as o,aD as N,I as u,P as U,Q as m,aC as E,c as M,G as j,L as $,U as g,S as q,J as x,aP as z}from"./main.7e8ab29c.js";import{Q as A}from"./QChip.1dfc8c6a.js";import{a as T,Q as h}from"./QItem.213c9318.js";import{a as G,Q as C}from"./QList.7c87ff50.js";import{Q as H}from"./QPagination.457c353c.js";import{Q as J}from"./QPage.8b6dd9f4.js";import{u as K}from"./use-quasar.9d177eec.js";import{B as O}from"./BackendLayout.fb659864.js";import"./selection.462aeae3.js";import"./QDrawer.01eee9de.js";import"./touch.70a9dd44.js";import"./plugin-vue_export-helper.21dcd24c.js";const W={class:"flex justify-between items-center"},R=o("div",null,[o("div",{class:"my-title"},"FAQ"),o("div",{class:"text-caption"},"Frequently asked question")],-1),X={class:"flex justify-between items-center q-my-md"},Y={class:"col-12"},Z={class:"flex flex-inline justify-center q-gutter-sm"},me={setup(ee){const c=K(),i=b(()=>d().props.value.list),l=P({selected:null,search:"",listData:{per_page:15,data:[],current_page:1,total:1}}),V=t=>{g.Inertia.put(route("faq.publish",t.id),{},{onSuccess:()=>c.notify({type:"positive",message:d().props.value.flash.success}),onError:()=>c.notify({type:"negative",message:d().props.value.flash.error})})},D=t=>{c.dialog({title:"Confirm",message:"Would you like to delete?",cancel:!0,persistent:!0}).onOk(()=>{g.Inertia.delete(route("faq.destroy",t.id))}).onCancel(()=>{}).onDismiss(()=>{})},B=t=>{l.selected=t},I=t=>{l.search=t.target.value,t.keyCode===13&&_(1)},S=t=>{_(t)},_=t=>{g.Inertia.get(route("faq.index"),{page:t,search:l.search},{preserveState:!0,replace:!0})};L(()=>{var v,Q;const t=d();console.log("page=>> ",(v=t.props.value)==null?void 0:v.list);const{current_page:r,total:e,per_page:p,data:n}=(Q=t.props.value)==null?void 0:Q.list;l.listData.current_page=r,l.listData.data=n,l.listData.total=e,l.listData.per_page=p});const w=b(()=>Math.ceil(i.value.total/i.value.per_page));return(t,r)=>(f(),k(O,null,{content:s(()=>[a(J,{padding:""},{default:s(()=>[o("div",W,[R,a(F,{"active-color":"primary",class:"text-gray-500 text-sm"},{default:s(()=>[a(y,{icon:"dashboard",label:"Dashboard"}),a(y,{icon:"feed",label:"Faq"})]),_:1})]),o("div",X,[a(N,{modelValue:u(l).search,"onUpdate:modelValue":r[0]||(r[0]=e=>u(l).search=e),dense:"",outlined:"",placeholder:"Search",rounded:"",onKeyup:I},{append:s(()=>[a(U,{name:"search"})]),_:1},8,["modelValue"]),a(m,{href:t.route("faq.create"),color:"primary",label:"New Faq",rounded:""},null,8,["href"])]),a(E,{class:"full-width q-my-sm"}),o("div",Y,[a(G,{separator:""},{default:s(()=>[(f(!0),M($,null,j(u(i).data,(e,p)=>(f(),k(T,{class:"q-pa-none",key:e.id,onClick:n=>B(e)},{default:s(()=>[a(h,{avatar:""},{default:s(()=>[a(A,{label:p+1,square:""},null,8,["label"])]),_:2},1024),a(h,null,{default:s(()=>[a(C,null,{default:s(()=>[q(x(e==null?void 0:e.question),1)]),_:2},1024),a(C,{caption:""},{default:s(()=>[q(x((e==null?void 0:e.answer)||"NA"),1)]),_:2},1024)]),_:2},1024),a(h,{side:""},{default:s(()=>[o("div",Z,[a(z,{modelValue:e.published,"onUpdate:modelValue":n=>e.published=n,label:"published?","left-label":"",onClick:n=>V(e)},null,8,["modelValue","onUpdate:modelValue","onClick"]),a(m,{href:t.route("faq.edit",e.id),icon:"edit",outline:"",round:"",size:"12px"},null,8,["href"]),a(m,{color:"negative",icon:"delete",outline:"",round:"",size:"12px",onClick:n=>D(e)},null,8,["onClick"])])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),a(H,{modelValue:u(i).current_page,"onUpdate:modelValue":[r[1]||(r[1]=e=>u(i).current_page=e),S],max:u(w),input:""},null,8,["modelValue","max"])]),_:1})]),_:1}))}};export{me as default};
