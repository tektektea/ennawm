import{Q as E,a as V,b as D,d as M,e as U,f as A}from"./selection.462aeae3.js";import{u as G,r as k,M as K,i as u,w as f,z as W,B as X,k as C,N as J,j as Y,O as Z,o as Q,c as ee,b as p,H as a,P as te,E as x,F as l,R as oe,Q as I,S as y,U as S,D as F,V as ae,I as le,W as se,X as re}from"./main.7e8ab29c.js";import{Q as m,a as ne}from"./QList.7c87ff50.js";import{Q as g,a as _}from"./QItem.213c9318.js";import{Q as ue}from"./QBtnDropdown.4164b3b6.js";import{u as ie}from"./use-quasar.9d177eec.js";var ce=G({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(s,{slots:b,emit:v}){const{proxy:{$q:i}}=Y(),e=J(Z,()=>{console.error("QFooter needs to be child of QLayout")}),c=k(parseInt(s.heightHint,10)),t=k(!0),n=k(K.value===!0||e.isContainer.value===!0?0:window.innerHeight),w=u(()=>s.reveal===!0||e.view.value.indexOf("F")>-1||i.platform.is.ios&&e.isContainer.value===!0),z=u(()=>e.isContainer.value===!0?e.containerHeight.value:n.value),B=u(()=>{if(s.modelValue!==!0)return 0;if(w.value===!0)return t.value===!0?c.value:0;const o=e.scroll.value.position+z.value+c.value-e.height.value;return o>0?o:0}),H=u(()=>s.modelValue!==!0||w.value===!0&&t.value!==!0),L=u(()=>s.modelValue===!0&&H.value===!0&&s.reveal===!0),N=u(()=>"q-footer q-layout__section--marginal "+(w.value===!0?"fixed":"absolute")+"-bottom"+(s.bordered===!0?" q-footer--bordered":"")+(H.value===!0?" q-footer--hidden":"")+(s.modelValue!==!0?" q-layout--prevent-focus"+(w.value!==!0?" hidden":""):"")),R=u(()=>{const o=e.rows.value.bottom,r={};return o[0]==="l"&&e.left.space===!0&&(r[i.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),o[2]==="r"&&e.right.space===!0&&(r[i.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),r});function d(o,r){e.update("footer",o,r)}function h(o,r){o.value!==r&&(o.value=r)}function P({height:o}){h(c,o),d("size",o)}function O(){if(s.reveal!==!0)return;const{direction:o,position:r,inflectionPoint:j}=e.scroll.value;h(t,o==="up"||r-j<100||e.height.value-z.value-r-c.value<300)}function T(o){L.value===!0&&h(t,!0),v("focusin",o)}f(()=>s.modelValue,o=>{d("space",o),h(t,!0),e.animate()}),f(B,o=>{d("offset",o)}),f(()=>s.reveal,o=>{o===!1&&h(t,s.modelValue)}),f(t,o=>{e.animate(),v("reveal",o)}),f([c,e.scroll,e.height],O),f(()=>i.screen.height,o=>{e.isContainer.value!==!0&&h(n,o)});const $={};return e.instances.footer=$,s.modelValue===!0&&d("size",c.value),d("space",s.modelValue),d("offset",B.value),W(()=>{e.instances.footer===$&&(e.instances.footer=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const o=X(b.default,[C(E,{debounce:0,onResize:P})]);return s.elevated===!0&&o.push(C("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),C("footer",{class:N.value,style:R.value,onFocusin:T},o)}}});const de={class:"container w-full mx-auto shadow-sm flex justify-between items-center"},fe={class:"flex items-center gap-2"},ve=p("div",{class:"text-2xl font-medium"},"Ennawm",-1),he=y("Rented Videos"),me={class:"flex gap-2"},ge=y("Profile"),_e=y("Rented videos"),pe=y("Payment history"),ye=y("Change password"),be=y("Logout"),Qe={setup(s){const b=ie(),v=e=>{S.Inertia.post(route("logout"),{},{onError:()=>b.notify({type:"negative",message:"Something went wrong"})})},i=()=>S.Inertia.get(route("home"));return(e,c)=>{var t,n;return Q(),ee("div",de,[p("div",fe,[p("div",{onClick:i,class:"flex gap-1 cursor-pointer"},[a(te,{size:"32px",name:"play_arrow",color:"accent"}),ve]),e.$page.props.user?(Q(),x(_,{key:0,href:e.route("video.rented"),class:"xs-hide"},{default:l(()=>[a(g,null,{default:l(()=>[a(m,null,{default:l(()=>[he]),_:1})]),_:1})]),_:1},8,["href"])):oe("",!0)]),p("div",me,[a(I,{href:e.route("video.free"),color:"accent",label:"Free Video"},null,8,["href"]),e.$page.props.user?(Q(),x(ue,{key:0,"no-caps":"",flat:"",label:(n=(t=e.$page.props.user)==null?void 0:t.name)!=null?n:"Guest"},{default:l(()=>[a(ne,{bordered:"",separator:"",class:"bg-gray-800 rounded-borders text-gray-100"},{default:l(()=>[a(_,{href:e.route("profile.create"),clickable:""},{default:l(()=>[a(g,null,{default:l(()=>[a(m,null,{default:l(()=>[ge]),_:1})]),_:1})]),_:1},8,["href"]),a(_,{href:e.route("video.rented"),clickable:""},{default:l(()=>[a(g,null,{default:l(()=>[a(m,null,{default:l(()=>[_e]),_:1})]),_:1})]),_:1},8,["href"]),a(_,{href:e.route("payment.list"),clickable:""},{default:l(()=>[a(g,null,{default:l(()=>[a(m,null,{default:l(()=>[pe]),_:1})]),_:1})]),_:1},8,["href"]),a(_,{href:e.route("change-password.create"),clickable:""},{default:l(()=>[a(g,null,{default:l(()=>[a(m,null,{default:l(()=>[ye]),_:1})]),_:1})]),_:1},8,["href"]),a(_,{onClick:v,clickable:""},{default:l(()=>[a(g,null,{default:l(()=>[a(m,null,{default:l(()=>[be]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["label"])):(Q(),x(I,{key:1,href:e.route("login"),label:"Login",flat:""},null,8,["href"]))])])}}},we=p("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1),ke=p("div",null,"Title",-1),$e={props:{ziggy:Object},setup(s){const b=u(()=>{var t;return(t=F().props.value)==null?void 0:t.success}),v=u(()=>{var t;return(t=F().props.value)==null?void 0:t.error}),i=k(0),e=u(()=>i.value===0?["bg-transparent","text-gray-100","font-semibold"]:["bg-primary","shadow-md","text-gray-100","font-semibold"]);f(b,(t,n)=>{console.log("New val "+t),n!==t&&t&&q.notify({type:"positive",message:t})}),f(v,(t,n)=>{console.log("New val "+t),n!==t&&t&&q.notify({type:"negative",message:t})});const c=t=>{console.log(t),i.value=t.position};return(t,n)=>(Q(),x(A,{onScroll:c,view:"hHh lpR fff"},{default:l(()=>[a(D,{class:ae(le(e))},{default:l(()=>[a(V,{style:{height:"70px"}},{default:l(()=>[a(Qe)]),_:1})]),_:1},8,["class"]),a(M,null,{default:l(()=>[se(t.$slots,"content")]),_:3}),a(ce,{elevated:"",class:"bg-grey-8 text-white"},{default:l(()=>[a(V,null,{default:l(()=>[a(U,null,{default:l(()=>[a(re,null,{default:l(()=>[we]),_:1}),ke]),_:1})]),_:1})]),_:1})]),_:3}))}};export{$e as _};
