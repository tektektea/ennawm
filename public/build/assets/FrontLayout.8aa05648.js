import{Q as E,a as I,b as D,d as M,e as U,f as A}from"./selection.053016d1.js";import{u as G,r as w,M as K,i as u,w as f,z as W,B as J,k,N as X,j as Y,O as Z,o as x,c as ee,b as m,H as a,P as te,Q as S,E as C,F as l,R as y,S as F,D as L,U as oe,I as ae,V as le,W as se}from"./main.949b168a.js";import{Q as _,a as re}from"./QList.e2adeafb.js";import{Q as p,a as b}from"./QItem.4f0ff496.js";import{Q as ne}from"./QBtnDropdown.c5cf0ced.js";import{u as ue}from"./use-quasar.2f219199.js";var ie=G({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(s,{slots:g,emit:v}){const{proxy:{$q:i}}=Y(),e=X(Z,()=>{console.error("QFooter needs to be child of QLayout")}),c=w(parseInt(s.heightHint,10)),t=w(!0),n=w(K.value===!0||e.isContainer.value===!0?0:window.innerHeight),Q=u(()=>s.reveal===!0||e.view.value.indexOf("F")>-1||i.platform.is.ios&&e.isContainer.value===!0),z=u(()=>e.isContainer.value===!0?e.containerHeight.value:n.value),B=u(()=>{if(s.modelValue!==!0)return 0;if(Q.value===!0)return t.value===!0?c.value:0;const o=e.scroll.value.position+z.value+c.value-e.height.value;return o>0?o:0}),H=u(()=>s.modelValue!==!0||Q.value===!0&&t.value!==!0),V=u(()=>s.modelValue===!0&&H.value===!0&&s.reveal===!0),N=u(()=>"q-footer q-layout__section--marginal "+(Q.value===!0?"fixed":"absolute")+"-bottom"+(s.bordered===!0?" q-footer--bordered":"")+(H.value===!0?" q-footer--hidden":"")+(s.modelValue!==!0?" q-layout--prevent-focus"+(Q.value!==!0?" hidden":""):"")),P=u(()=>{const o=e.rows.value.bottom,r={};return o[0]==="l"&&e.left.space===!0&&(r[i.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),o[2]==="r"&&e.right.space===!0&&(r[i.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),r});function d(o,r){e.update("footer",o,r)}function h(o,r){o.value!==r&&(o.value=r)}function R({height:o}){h(c,o),d("size",o)}function O(){if(s.reveal!==!0)return;const{direction:o,position:r,inflectionPoint:j}=e.scroll.value;h(t,o==="up"||r-j<100||e.height.value-z.value-r-c.value<300)}function T(o){V.value===!0&&h(t,!0),v("focusin",o)}f(()=>s.modelValue,o=>{d("space",o),h(t,!0),e.animate()}),f(B,o=>{d("offset",o)}),f(()=>s.reveal,o=>{o===!1&&h(t,s.modelValue)}),f(t,o=>{e.animate(),v("reveal",o)}),f([c,e.scroll,e.height],O),f(()=>i.screen.height,o=>{e.isContainer.value!==!0&&h(n,o)});const $={};return e.instances.footer=$,s.modelValue===!0&&d("size",c.value),d("space",s.modelValue),d("offset",B.value),W(()=>{e.instances.footer===$&&(e.instances.footer=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const o=J(g.default,[k(E,{debounce:0,onResize:R})]);return s.elevated===!0&&o.push(k("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),k("footer",{class:N.value,style:P.value,onFocusin:T},o)}}});const ce={class:"container w-full mx-auto shadow-sm flex justify-between items-center"},de={class:"flex items-center gap-2"},fe=m("div",{class:"text-xl font-medium"},"Ennawm tv",-1),ve={class:"flex gap-2"},he=y("Profile"),me=y("Rented videos"),ge=y("Payment history"),_e=y("Change password"),pe=y("Logout"),be={setup(s){const g=ue(),v=e=>{F.Inertia.post(route("logout"),{},{onError:()=>g.notify({type:"negative",message:"Something went wrong"})})},i=()=>F.Inertia.get(route("home"));return(e,c)=>{var t,n;return x(),ee("div",ce,[m("div",de,[m("div",{onClick:i,class:"flex gap-1 cursor-pointer"},[a(te,{size:"32px",name:"play_arrow",color:"accent"}),fe])]),m("div",ve,[a(S,{href:e.route("video.free"),color:"accent",label:"Free Video"},null,8,["href"]),e.$page.props.user?(x(),C(ne,{key:0,"no-caps":"",flat:"",label:(n=(t=e.$page.props.user)==null?void 0:t.name)!=null?n:"Guest"},{default:l(()=>[a(re,{bordered:"",separator:"",class:"bg-gray-800 rounded-borders text-gray-100"},{default:l(()=>[a(p,{clickable:""},{default:l(()=>[a(b,null,{default:l(()=>[a(_,null,{default:l(()=>[he]),_:1})]),_:1})]),_:1}),a(p,{href:e.route("video.rented"),clickable:""},{default:l(()=>[a(b,null,{default:l(()=>[a(_,null,{default:l(()=>[me]),_:1})]),_:1})]),_:1},8,["href"]),a(p,{href:e.route("payment.list"),clickable:""},{default:l(()=>[a(b,null,{default:l(()=>[a(_,null,{default:l(()=>[ge]),_:1})]),_:1})]),_:1},8,["href"]),a(p,{clickable:""},{default:l(()=>[a(b,null,{default:l(()=>[a(_,null,{default:l(()=>[_e]),_:1})]),_:1})]),_:1}),a(p,{onClick:v,clickable:""},{default:l(()=>[a(b,null,{default:l(()=>[a(_,null,{default:l(()=>[pe]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["label"])):(x(),C(S,{key:1,href:e.route("login"),label:"Login",flat:""},null,8,["href"]))])])}}},ye=m("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1),Qe=m("div",null,"Title",-1),qe={props:{ziggy:Object},setup(s){const g=u(()=>{var t;return(t=L().props.value)==null?void 0:t.success}),v=u(()=>{var t;return(t=L().props.value)==null?void 0:t.error}),i=w(0),e=u(()=>i.value===0?["bg-transparent","text-gray-100","font-semibold"]:["bg-primary","shadow-md","text-gray-100","font-semibold"]);f(g,(t,n)=>{console.log("New val "+t),n!==t&&t&&q.notify({type:"positive",message:t})}),f(v,(t,n)=>{console.log("New val "+t),n!==t&&t&&q.notify({type:"negative",message:t})});const c=t=>{console.log(t),i.value=t.position};return(t,n)=>(x(),C(A,{onScroll:c,view:"hHh lpR fff"},{default:l(()=>[a(D,{class:oe(ae(e))},{default:l(()=>[a(I,{style:{height:"70px"}},{default:l(()=>[a(be)]),_:1})]),_:1},8,["class"]),a(M,null,{default:l(()=>[le(t.$slots,"content")]),_:3}),a(ie,{elevated:"",class:"bg-grey-8 text-white"},{default:l(()=>[a(I,null,{default:l(()=>[a(U,null,{default:l(()=>[a(se,null,{default:l(()=>[ye]),_:1}),Qe]),_:1})]),_:1})]),_:1})]),_:3}))}};export{qe as _};
