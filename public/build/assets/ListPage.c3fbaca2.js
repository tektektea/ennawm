import{Q as F,a as y}from"./QBreadcrumbs.45c6b7ee.js";import{i as b,a3 as L,y as N,D as d,E as k,F as s,o as f,H as a,b as o,aB as P,I as u,P as E,Q as m,aG as M,c as U,G as j,L as $,S as g,R as q,J as x,aO as z}from"./main.949b168a.js";import{Q as A}from"./QChip.26b86b71.js";import{Q as G,a as h}from"./QItem.4f0ff496.js";import{a as O,Q as C}from"./QList.e2adeafb.js";import{Q as T}from"./QPagination.36eb06d0.js";import{Q as H}from"./QPage.0d70696a.js";import{u as J}from"./use-quasar.2f219199.js";import{B as K}from"./BackendLayout.d5e91e29.js";import"./selection.053016d1.js";import"./QDrawer.9b099474.js";import"./touch.70a9dd44.js";import"./plugin-vue_export-helper.21dcd24c.js";const R={class:"flex justify-between items-center"},W=o("div",null,[o("div",{class:"my-title"},"FAQ"),o("div",{class:"text-caption"},"Frequently asked question")],-1),X={class:"flex justify-between items-center q-my-md"},Y={class:"col-12"},Z={class:"flex flex-inline justify-center q-gutter-sm"},me={setup(ee){const c=J(),i=b(()=>d().props.value.list),l=L({selected:null,search:"",listData:{per_page:15,data:[],current_page:1,total:1}}),V=t=>{g.Inertia.put(route("faq.publish",t.id),{},{onSuccess:()=>c.notify({type:"positive",message:d().props.value.flash.success}),onError:()=>c.notify({type:"negative",message:d().props.value.flash.error})})},D=t=>{c.dialog({title:"Confirm",message:"Would you like to delete?",cancel:!0,persistent:!0}).onOk(()=>{g.Inertia.delete(route("faq.destroy",t.id))}).onCancel(()=>{}).onDismiss(()=>{})},B=t=>{l.selected=t},I=t=>{l.search=t.target.value,t.keyCode===13&&_(1)},S=t=>{_(t)},_=t=>{g.Inertia.get(route("faq.index"),{page:t,search:l.search},{preserveState:!0,replace:!0})};N(()=>{var v,Q;const t=d();console.log("page=>> ",(v=t.props.value)==null?void 0:v.list);const{current_page:r,total:e,per_page:p,data:n}=(Q=t.props.value)==null?void 0:Q.list;l.listData.current_page=r,l.listData.data=n,l.listData.total=e,l.listData.per_page=p});const w=b(()=>Math.ceil(i.value.total/i.value.per_page));return(t,r)=>(f(),k(K,null,{content:s(()=>[a(H,{padding:""},{default:s(()=>[o("div",R,[W,a(F,{"active-color":"primary",class:"text-gray-500 text-sm"},{default:s(()=>[a(y,{icon:"dashboard",label:"Dashboard"}),a(y,{icon:"feed",label:"Faq"})]),_:1})]),o("div",X,[a(P,{modelValue:u(l).search,"onUpdate:modelValue":r[0]||(r[0]=e=>u(l).search=e),dense:"",outlined:"",placeholder:"Search",rounded:"",onKeyup:I},{append:s(()=>[a(E,{name:"search"})]),_:1},8,["modelValue"]),a(m,{href:t.route("faq.create"),color:"primary",label:"New Faq",rounded:""},null,8,["href"])]),a(M,{class:"full-width q-my-sm"}),o("div",Y,[a(O,{separator:""},{default:s(()=>[(f(!0),U($,null,j(u(i).data,(e,p)=>(f(),k(G,{class:"q-pa-none",key:e.id,onClick:n=>B(e)},{default:s(()=>[a(h,{avatar:""},{default:s(()=>[a(A,{label:p+1,square:""},null,8,["label"])]),_:2},1024),a(h,null,{default:s(()=>[a(C,null,{default:s(()=>[q(x(e==null?void 0:e.question),1)]),_:2},1024),a(C,{caption:""},{default:s(()=>[q(x((e==null?void 0:e.answer)||"NA"),1)]),_:2},1024)]),_:2},1024),a(h,{side:""},{default:s(()=>[o("div",Z,[a(z,{modelValue:e.published,"onUpdate:modelValue":n=>e.published=n,label:"published?","left-label":"",onClick:n=>V(e)},null,8,["modelValue","onUpdate:modelValue","onClick"]),a(m,{href:t.route("faq.edit",e.id),icon:"edit",outline:"",round:"",size:"12px"},null,8,["href"]),a(m,{color:"negative",icon:"delete",outline:"",round:"",size:"12px",onClick:n=>D(e)},null,8,["onClick"])])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),a(T,{modelValue:u(i).current_page,"onUpdate:modelValue":[r[1]||(r[1]=e=>u(i).current_page=e),S],max:u(w),input:""},null,8,["modelValue","max"])]),_:1})]),_:1}))}};export{me as default};
